# Terrain Builder - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# SERVER
# ============================================================================
NODE_ENV=development
PORT=3001

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/terrain_builder
# Or separate connection params:
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=terrain_builder
# DB_USER=username
# DB_PASSWORD=password

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============================================================================
# AUTHENTICATION
# ============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ============================================================================
# REDIS (Optional - for distributed rate limiting)
# ============================================================================
REDIS_URL=redis://localhost:6379

# ============================================================================
# FILE STORAGE
# ============================================================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=104857600
MAX_IMAGE_SIZE=10485760
PUBLIC_FILES_URL=http://localhost:3001/uploads

# Cloud storage (optional - AWS S3, DigitalOcean Spaces, etc.)
# STORAGE_TYPE=s3
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=terrain-builder-files

# ============================================================================
# STRIPE (Payments)
# ============================================================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Mock mode (use backend without real Stripe)
# Set STRIPE_MOCK=true OR PAYMENTS_ENABLED=false to bypass Stripe calls
# When mocked, createPaymentIntent/getPaymentIntent return fake values
# and the webhook endpoint no-ops.
# STRIPE_MOCK=true
# PAYMENTS_ENABLED=false

# Stripe Connect (for artist payouts)
STRIPE_CONNECT_CLIENT_ID=ca_your_connect_client_id

# ============================================================================
# EMAIL (Resend)
# ============================================================================
RESEND_API_KEY=re_your_resend_api_key
EMAIL_FROM=noreply@terrainbuilder.com
EMAIL_FROM_NAME=Terrain Builder

# ============================================================================
# PRINT FARM (3D Printing Service)
# ============================================================================
PRINT_FARM_PROVIDER=mock
# Options: mock, craftcloud, custom

# CraftCloud credentials (if using)
# CRAFTCLOUD_API_KEY=your_craftcloud_api_key
# CRAFTCLOUD_API_URL=https://api.craftcloud3d.com/v1

# ============================================================================
# PAYPAL (Optional alternative payment)
# ============================================================================
# PAYPAL_CLIENT_ID=your_paypal_client_id
# PAYPAL_CLIENT_SECRET=your_paypal_client_secret
# PAYPAL_MODE=sandbox

# ============================================================================
# FRONTEND
# ============================================================================
FRONTEND_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# SECURITY
# ============================================================================
# IP Blacklist (comma-separated)
BLACKLISTED_IPS=

# IP Whitelist for admin endpoints (comma-separated)
WHITELISTED_IPS=127.0.0.1,::1

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# ============================================================================
# ANALYTICS (Optional)
# ============================================================================
# GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
# SENTRY_DSN=https://xxx@sentry.io/xxx

# ============================================================================
# DEVELOPMENT
# ============================================================================
# Enable detailed error messages
DEBUG=false

# Enable SQL query logging
LOG_SQL_QUERIES=false
